/* ----------------------------------------------------------------------------
 * This file was automatically generated by SWIG (https://www.swig.org).
 * Version 4.4.1
 *
 * Do not make changes to this file unless you know what you are doing - modify
 * the SWIG interface file instead.
 * ----------------------------------------------------------------------------- */

package org.pjsip.pjsua2;

/**
 * Audio Media Player.
 */
public class AudioMediaPlayer extends AudioMedia {
  private transient long swigCPtr;

  protected AudioMediaPlayer(long cPtr, boolean cMemoryOwn) {
    super(pjsua2JNI.AudioMediaPlayer_SWIGUpcast(cPtr), cMemoryOwn);
    swigCPtr = cPtr;
  }

  protected static long getCPtr(AudioMediaPlayer obj) {
    return (obj == null) ? 0 : obj.swigCPtr;
  }

  protected static long swigRelease(AudioMediaPlayer obj) {
    long ptr = 0;
    if (obj != null) {
      if (!obj.swigCMemOwn)
        throw new RuntimeException("Cannot release ownership as memory is not owned");
      ptr = obj.swigCPtr;
      obj.swigCMemOwn = false;
      obj.delete();
    }
    return ptr;
  }

  @SuppressWarnings({"deprecation", "removal"})
  protected void finalize() {
    delete();
  }

  public synchronized void delete() {
    if (swigCPtr != 0) {
      if (swigCMemOwn) {
        swigCMemOwn = false;
        pjsua2JNI.delete_AudioMediaPlayer(swigCPtr);
      }
      swigCPtr = 0;
    }
    super.delete();
  }

  protected void swigDirectorDisconnect() {
    swigCMemOwn = false;
    delete();
  }

  public void swigReleaseOwnership() {
    swigCMemOwn = false;
    pjsua2JNI.AudioMediaPlayer_change_ownership(this, swigCPtr, false);
  }

  public void swigTakeOwnership() {
    swigCMemOwn = true;
    pjsua2JNI.AudioMediaPlayer_change_ownership(this, swigCPtr, true);
  }

  @SuppressWarnings("this-escape")
  /**
   * Constructor.
   */
  public AudioMediaPlayer() {
    this(pjsua2JNI.new_AudioMediaPlayer(), true);
    pjsua2JNI.AudioMediaPlayer_director_connect(this, swigCPtr, true, true);
  }

  /**
   * Create a file player,  and automatically add this <br>
   * player to the conference bridge.<br>
   * <br>
   * @param file_name  The filename to be played. Currently only<br>
   *                   WAV files are supported, and the WAV file MUST be<br>
   *                   formatted as 16bit PCM mono/single channel (any<br>
   *                   clock rate is supported).<br>
   * @param options    Optional option flag. Application may specify<br>
   *                   PJMEDIA_FILE_NO_LOOP to prevent playback loop.
   */
  public void createPlayer(String file_name, long options) throws java.lang.Exception {
    pjsua2JNI.AudioMediaPlayer_createPlayer__SWIG_0(swigCPtr, this, file_name, options);
  }

  /**
   * Create a file player,  and automatically add this <br>
   * player to the conference bridge.<br>
   * <br>
   * @param file_name  The filename to be played. Currently only<br>
   *                   WAV files are supported, and the WAV file MUST be<br>
   *                   formatted as 16bit PCM mono/single channel (any<br>
   *                   clock rate is supported).<br>
   * 
   */
  public void createPlayer(String file_name) throws java.lang.Exception {
    pjsua2JNI.AudioMediaPlayer_createPlayer__SWIG_1(swigCPtr, this, file_name);
  }

  /**
   * Create a file playlist media port, and automatically add the port<br>
   * to the conference bridge.<br>
   * <br>
   * @param file_names  Array of file names to be added to the play list.<br>
   *                    Note that the files must have the same clock rate,<br>
   *                    number of channels, and number of bits per sample.<br>
   * @param label       Optional label to be set for the media port.<br>
   * @param options     Optional option flag. Application may specify<br>
   *                    PJMEDIA_FILE_NO_LOOP to prevent looping.
   */
  public void createPlaylist(StringVector file_names, String label, long options) throws java.lang.Exception {
    pjsua2JNI.AudioMediaPlayer_createPlaylist__SWIG_0(swigCPtr, this, StringVector.getCPtr(file_names), file_names, label, options);
  }

  /**
   * Create a file playlist media port, and automatically add the port<br>
   * to the conference bridge.<br>
   * <br>
   * @param file_names  Array of file names to be added to the play list.<br>
   *                    Note that the files must have the same clock rate,<br>
   *                    number of channels, and number of bits per sample.<br>
   * @param label       Optional label to be set for the media port.<br>
   * 
   */
  public void createPlaylist(StringVector file_names, String label) throws java.lang.Exception {
    pjsua2JNI.AudioMediaPlayer_createPlaylist__SWIG_1(swigCPtr, this, StringVector.getCPtr(file_names), file_names, label);
  }

  /**
   * Create a file playlist media port, and automatically add the port<br>
   * to the conference bridge.<br>
   * <br>
   * @param file_names  Array of file names to be added to the play list.<br>
   *                    Note that the files must have the same clock rate,<br>
   *                    number of channels, and number of bits per sample.<br>
   * <br>
   * 
   */
  public void createPlaylist(StringVector file_names) throws java.lang.Exception {
    pjsua2JNI.AudioMediaPlayer_createPlaylist__SWIG_2(swigCPtr, this, StringVector.getCPtr(file_names), file_names);
  }

  /**
   * Get additional info about the player. This operation is only valid<br>
   * for player. For playlist, Error will be thrown.<br>
   * <br>
   * @return the info.
   */
  public AudioMediaPlayerInfo getInfo() throws java.lang.Exception {
    return new AudioMediaPlayerInfo(pjsua2JNI.AudioMediaPlayer_getInfo(swigCPtr, this), true);
  }

  /**
   * Get current playback position in samples. This operation is not valid<br>
   * for playlist.<br>
   * <br>
   * @return Current playback position, in samples.
   */
  public long getPos() throws java.lang.Exception {
    return pjsua2JNI.AudioMediaPlayer_getPos(swigCPtr, this);
  }

  /**
   * Set playback position in samples. This operation is not valid for<br>
   * playlist.<br>
   * <br>
   * @param samples      The desired playback position, in samples.
   */
  public void setPos(long samples) throws java.lang.Exception {
    pjsua2JNI.AudioMediaPlayer_setPos(swigCPtr, this, samples);
  }

  /**
   * Warning: deprecated and will be removed in future release.<br>
   * <br>
   * Typecast from base class AudioMedia. This is useful for application<br>
   * written in language that does not support downcasting such as Python.<br>
   * <br>
   * @param media             The object to be downcasted<br>
   * <br>
   * @return The object as AudioMediaPlayer instance
   */
  public static AudioMediaPlayer typecastFromAudioMedia(AudioMedia media) {
    long cPtr = pjsua2JNI.AudioMediaPlayer_typecastFromAudioMedia(AudioMedia.getCPtr(media), media);
    return (cPtr == 0) ? null : new AudioMediaPlayer(cPtr, false);
  }

  /**
   * Register a callback to be called when the file player reading has<br>
   * reached the end of file, or when the file reading has reached the<br>
   * end of file of the last file for a playlist. If the file or playlist<br>
   * is set to play repeatedly, then the callback will be called multiple<br>
   * times.<br>
   * <br>
   * If application wishes to stop the playback, it can stop the media<br>
   * transmission in the callback, and only after all transmissions have<br>
   * been stopped, could the application safely destroy the player.
   */
  public void onEof2() {
    if (getClass() == AudioMediaPlayer.class) pjsua2JNI.AudioMediaPlayer_onEof2(swigCPtr, this); else pjsua2JNI.AudioMediaPlayer_onEof2SwigExplicitAudioMediaPlayer(swigCPtr, this);
  }

}
